{"ast":null,"code":"var _jsxFileName = \"/Applications/Git/trybe github/trybe/projetos/projeto-app-receita/sd-030-a-project-recipes-app/src/pages/Recipes.jsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom/cjs/react-router-dom.min';\nimport CardRecipe from '../components/CardRecipe';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport RecipeContext from '../context/RecipeContext';\nimport '../css/Recipes.css';\nimport { fetchAllCategories, fetchRecipeByCategory, fetchRecipes } from '../services/fetchAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function Recipes() {\n  _s();\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n  const {\n    pathname\n  } = useLocation();\n  const {\n    recipes,\n    setRecipes,\n    allRecipes,\n    setAllRecipes\n  } = useContext(RecipeContext);\n  const getRecipes = useCallback(async () => {\n    const recipesList = await fetchRecipes(pathname);\n    setRecipes(recipesList);\n    setAllRecipes(recipesList);\n  }, [pathname, setAllRecipes, setRecipes]);\n  const fetchCategories = useCallback(async () => {\n    const allCategories = await fetchAllCategories(pathname);\n    setCategories([{\n      strCategory: 'All'\n    }, ...allCategories]);\n  }, [pathname]);\n  useEffect(() => {\n    getRecipes();\n    fetchCategories();\n  }, [getRecipes, fetchCategories]);\n  const filterByCategory = async category => {\n    setSelectedCategory(category);\n    const filterRecipeCategory = await fetchRecipeByCategory(pathname, category);\n    const filter = selectedCategory === category ? allRecipes : filterRecipeCategory;\n    setRecipes(filter);\n  };\n  const maxNumber = 12;\n  const listRecipes = recipes && recipes.slice(0, maxNumber);\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(Header, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"h2\", {\n      children: \"Recipes\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      children: categories.map((_ref, index) => {\n        let {\n          strCategory\n        } = _ref;\n        return /*#__PURE__*/_jsxDEV(\"button\", {\n          \"data-testid\": `${strCategory}-category-filter`,\n          onClick: () => filterByCategory(strCategory),\n          children: strCategory\n        }, index, false, {\n          fileName: _jsxFileName,\n          lineNumber: 51,\n          columnNumber: 11\n        }, this);\n      })\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 49,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"div\", {\n      className: \"card-container\",\n      children: listRecipes && listRecipes.map((recipe, index) => /*#__PURE__*/_jsxDEV(Link, {\n        to: pathname === '/meals' ? `/meals/${recipe.idMeal}` : `/drinks/${recipe.idDrink}`,\n        children: /*#__PURE__*/_jsxDEV(CardRecipe, {\n          name: recipe.strMeal || recipe.strDrink,\n          url: recipe.strMealThumb || recipe.strDrinkThumb,\n          index: index\n        }, void 0, false, {\n          fileName: _jsxFileName,\n          lineNumber: 67,\n          columnNumber: 13\n        }, this)\n      }, index, false, {\n        fileName: _jsxFileName,\n        lineNumber: 62,\n        columnNumber: 11\n      }, this))\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 60,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Footer, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 75,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 46,\n    columnNumber: 5\n  }, this);\n}\n_s(Recipes, \"cmYDc8xwqbKw7T/14p71pQX79Ks=\", false, function () {\n  return [useLocation];\n});\n_c = Recipes;\nvar _c;\n$RefreshReg$(_c, \"Recipes\");","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useState","Link","useLocation","CardRecipe","Footer","Header","RecipeContext","fetchAllCategories","fetchRecipeByCategory","fetchRecipes","Recipes","categories","setCategories","selectedCategory","setSelectedCategory","pathname","recipes","setRecipes","allRecipes","setAllRecipes","getRecipes","recipesList","fetchCategories","allCategories","strCategory","filterByCategory","category","filterRecipeCategory","filter","maxNumber","listRecipes","slice","map","index","recipe","idMeal","idDrink","strMeal","strDrink","strMealThumb","strDrinkThumb"],"sources":["/Applications/Git/trybe github/trybe/projetos/projeto-app-receita/sd-030-a-project-recipes-app/src/pages/Recipes.jsx"],"sourcesContent":["import React, { useCallback, useContext, useEffect, useState } from 'react';\nimport { Link, useLocation } from 'react-router-dom/cjs/react-router-dom.min';\nimport CardRecipe from '../components/CardRecipe';\nimport Footer from '../components/Footer';\nimport Header from '../components/Header';\nimport RecipeContext from '../context/RecipeContext';\nimport '../css/Recipes.css';\nimport {\n  fetchAllCategories, fetchRecipeByCategory, fetchRecipes,\n} from '../services/fetchAPI';\n\nexport default function Recipes() {\n  const [categories, setCategories] = useState([]);\n  const [selectedCategory, setSelectedCategory] = useState('');\n\n  const { pathname } = useLocation();\n  const { recipes, setRecipes, allRecipes, setAllRecipes } = useContext(RecipeContext);\n\n  const getRecipes = useCallback(async () => {\n    const recipesList = await fetchRecipes(pathname);\n    setRecipes(recipesList);\n    setAllRecipes(recipesList);\n  }, [pathname, setAllRecipes, setRecipes]);\n\n  const fetchCategories = useCallback(async () => {\n    const allCategories = await fetchAllCategories(pathname);\n    setCategories([{ strCategory: 'All' }, ...allCategories]);\n  }, [pathname]);\n\n  useEffect(() => {\n    getRecipes();\n    fetchCategories();\n  }, [getRecipes, fetchCategories]);\n\n  const filterByCategory = async (category) => {\n    setSelectedCategory(category);\n    const filterRecipeCategory = await fetchRecipeByCategory(pathname, category);\n    const filter = selectedCategory === category ? allRecipes : filterRecipeCategory;\n    setRecipes(filter);\n  };\n\n  const maxNumber = 12;\n  const listRecipes = recipes && recipes.slice(0, maxNumber);\n\n  return (\n    <div>\n      <Header />\n      <h2>Recipes</h2>\n      <div>\n        {categories.map(({ strCategory }, index) => (\n          <button\n            key={ index }\n            data-testid={ `${strCategory}-category-filter` }\n            onClick={ () => filterByCategory(strCategory) }\n          >\n            { strCategory }\n          </button>\n        ))}\n      </div>\n      <div className=\"card-container\">\n        { listRecipes && listRecipes.map((recipe, index) => (\n          <Link\n            key={ index }\n            to={ pathname === '/meals'\n              ? `/meals/${recipe.idMeal}` : `/drinks/${recipe.idDrink}` }\n          >\n            <CardRecipe\n              name={ recipe.strMeal || recipe.strDrink }\n              url={ recipe.strMealThumb || recipe.strDrinkThumb }\n              index={ index }\n            />\n          </Link>\n        ))}\n      </div>\n      <Footer />\n    </div>\n  );\n}\n"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}