{"ast":null,"code":"var _jsxFileName = \"/Applications/Git/trybe github/trybe/projetos/projeto-app-receita/sd-030-a-project-recipes-app/src/pages/RecipeDetails.jsx\",\n  _s = $RefreshSig$();\nimport 'pure-react-carousel/dist/react-carousel.es.css';\nimport React, { useCallback, useContext, useEffect } from 'react';\nimport { useHistory, useLocation, useParams } from 'react-router-dom/cjs/react-router-dom.min';\nimport ButtonFavorite from '../components/ButtonFavorite';\nimport ButtonShare from '../components/ButtonShare';\nimport CardRecipeDetails from '../components/CardRecipeDetails';\nimport Carrousel from '../components/Carrousel';\nimport RecipeContext from '../context/RecipeContext';\nimport '../css/RecipeDetails.css';\nimport { fetchDrinks, fetchMeals } from '../services/fetchAPI';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nexport default function RecipeDetails() {\n  _s();\n  const {\n    setRecomended\n  } = useContext(RecipeContext);\n  const {\n    id\n  } = useParams();\n  const {\n    pathname\n  } = useLocation();\n  const history = useHistory();\n  const fetchRecomended = useCallback(async () => {\n    const maxNumber = 6;\n    const recipesRec = pathname.includes('/meals') ? await fetchDrinks() : await fetchMeals();\n    setRecomended(recipesRec.slice(0, maxNumber));\n  }, [pathname, setRecomended]);\n  useEffect(() => {\n    fetchRecomended();\n  }, [fetchRecomended]);\n  const verifyTextButton = () => {\n    const recipes = localStorage.getItem('inProgressRecipes') || '';\n    if (recipes && recipes.includes(id)) {\n      return 'Continue Recipe';\n    }\n    return 'Start Recipe';\n  };\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    children: [/*#__PURE__*/_jsxDEV(ButtonFavorite, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 44,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(ButtonShare, {\n      testid: \"share-btn\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 45,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(CardRecipeDetails, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 46,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Carrousel, {}, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 47,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"button\", {\n      \"data-testid\": \"start-recipe-btn\",\n      type: \"button\",\n      className: \"start\",\n      onClick: () => history.push(`${pathname}/in-progress`),\n      children: verifyTextButton()\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 48,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 43,\n    columnNumber: 5\n  }, this);\n}\n_s(RecipeDetails, \"bqvOz8UTJcSWhESIUJOE62+3/ec=\", false, function () {\n  return [useParams, useLocation, useHistory];\n});\n_c = RecipeDetails;\nvar _c;\n$RefreshReg$(_c, \"RecipeDetails\");","map":{"version":3,"names":["React","useCallback","useContext","useEffect","useHistory","useLocation","useParams","ButtonFavorite","ButtonShare","CardRecipeDetails","Carrousel","RecipeContext","fetchDrinks","fetchMeals","RecipeDetails","setRecomended","id","pathname","history","fetchRecomended","maxNumber","recipesRec","includes","slice","verifyTextButton","recipes","localStorage","getItem","push"],"sources":["/Applications/Git/trybe github/trybe/projetos/projeto-app-receita/sd-030-a-project-recipes-app/src/pages/RecipeDetails.jsx"],"sourcesContent":["import 'pure-react-carousel/dist/react-carousel.es.css';\nimport React, { useCallback, useContext, useEffect } from 'react';\nimport {\n  useHistory,\n  useLocation, useParams,\n} from 'react-router-dom/cjs/react-router-dom.min';\nimport ButtonFavorite from '../components/ButtonFavorite';\nimport ButtonShare from '../components/ButtonShare';\nimport CardRecipeDetails from '../components/CardRecipeDetails';\nimport Carrousel from '../components/Carrousel';\nimport RecipeContext from '../context/RecipeContext';\nimport '../css/RecipeDetails.css';\nimport { fetchDrinks, fetchMeals } from '../services/fetchAPI';\n\nexport default function RecipeDetails() {\n  const { setRecomended } = useContext(RecipeContext);\n\n  const { id } = useParams();\n  const { pathname } = useLocation();\n  const history = useHistory();\n\n  const fetchRecomended = useCallback(async () => {\n    const maxNumber = 6;\n    const recipesRec = pathname.includes('/meals')\n      ? await fetchDrinks() : await fetchMeals();\n\n    setRecomended(recipesRec.slice(0, maxNumber));\n  }, [pathname, setRecomended]);\n\n  useEffect(() => {\n    fetchRecomended();\n  }, [fetchRecomended]);\n\n  const verifyTextButton = () => {\n    const recipes = localStorage.getItem('inProgressRecipes') || '';\n    if (recipes && recipes.includes(id)) {\n      return 'Continue Recipe';\n    }\n    return 'Start Recipe';\n  };\n\n  return (\n    <div>\n      <ButtonFavorite />\n      <ButtonShare testid=\"share-btn\" />\n      <CardRecipeDetails />\n      <Carrousel />\n      <button\n        data-testid=\"start-recipe-btn\"\n        type=\"button\"\n        className=\"start\"\n        onClick={ () => history.push(`${pathname}/in-progress`) }\n      >\n        { verifyTextButton() }\n      </button>\n    </div>\n  );\n}\n"],"mappings":";;AAAA,OAAO,gDAAgD;AACvD,OAAOA,KAAK,IAAIC,WAAW,EAAEC,UAAU,EAAEC,SAAS,QAAQ,OAAO;AACjE,SACEC,UAAU,EACVC,WAAW,EAAEC,SAAS,QACjB,2CAA2C;AAClD,OAAOC,cAAc,MAAM,8BAA8B;AACzD,OAAOC,WAAW,MAAM,2BAA2B;AACnD,OAAOC,iBAAiB,MAAM,iCAAiC;AAC/D,OAAOC,SAAS,MAAM,yBAAyB;AAC/C,OAAOC,aAAa,MAAM,0BAA0B;AACpD,OAAO,0BAA0B;AACjC,SAASC,WAAW,EAAEC,UAAU,QAAQ,sBAAsB;AAAC;AAE/D,eAAe,SAASC,aAAa,GAAG;EAAA;EACtC,MAAM;IAAEC;EAAc,CAAC,GAAGb,UAAU,CAACS,aAAa,CAAC;EAEnD,MAAM;IAAEK;EAAG,CAAC,GAAGV,SAAS,EAAE;EAC1B,MAAM;IAAEW;EAAS,CAAC,GAAGZ,WAAW,EAAE;EAClC,MAAMa,OAAO,GAAGd,UAAU,EAAE;EAE5B,MAAMe,eAAe,GAAGlB,WAAW,CAAC,YAAY;IAC9C,MAAMmB,SAAS,GAAG,CAAC;IACnB,MAAMC,UAAU,GAAGJ,QAAQ,CAACK,QAAQ,CAAC,QAAQ,CAAC,GAC1C,MAAMV,WAAW,EAAE,GAAG,MAAMC,UAAU,EAAE;IAE5CE,aAAa,CAACM,UAAU,CAACE,KAAK,CAAC,CAAC,EAAEH,SAAS,CAAC,CAAC;EAC/C,CAAC,EAAE,CAACH,QAAQ,EAAEF,aAAa,CAAC,CAAC;EAE7BZ,SAAS,CAAC,MAAM;IACdgB,eAAe,EAAE;EACnB,CAAC,EAAE,CAACA,eAAe,CAAC,CAAC;EAErB,MAAMK,gBAAgB,GAAG,MAAM;IAC7B,MAAMC,OAAO,GAAGC,YAAY,CAACC,OAAO,CAAC,mBAAmB,CAAC,IAAI,EAAE;IAC/D,IAAIF,OAAO,IAAIA,OAAO,CAACH,QAAQ,CAACN,EAAE,CAAC,EAAE;MACnC,OAAO,iBAAiB;IAC1B;IACA,OAAO,cAAc;EACvB,CAAC;EAED,oBACE;IAAA,wBACE,QAAC,cAAc;MAAA;MAAA;MAAA;IAAA,QAAG,eAClB,QAAC,WAAW;MAAC,MAAM,EAAC;IAAW;MAAA;MAAA;MAAA;IAAA,QAAG,eAClC,QAAC,iBAAiB;MAAA;MAAA;MAAA;IAAA,QAAG,eACrB,QAAC,SAAS;MAAA;MAAA;MAAA;IAAA,QAAG,eACb;MACE,eAAY,kBAAkB;MAC9B,IAAI,EAAC,QAAQ;MACb,SAAS,EAAC,OAAO;MACjB,OAAO,EAAG,MAAME,OAAO,CAACU,IAAI,CAAE,GAAEX,QAAS,cAAa,CAAG;MAAA,UAEvDO,gBAAgB;IAAE;MAAA;MAAA;MAAA;IAAA,QACb;EAAA;IAAA;IAAA;IAAA;EAAA,QACL;AAEV;AAAC,GA3CuBV,aAAa;EAAA,QAGpBR,SAAS,EACHD,WAAW,EAChBD,UAAU;AAAA;AAAA,KALJU,aAAa;AAAA;AAAA"},"metadata":{},"sourceType":"module","externalDependencies":[]}